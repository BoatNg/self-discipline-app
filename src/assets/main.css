@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply bg-calm-50 text-calm-800;
    font-family:
      system-ui,
      -apple-system,
      BlinkMacSystemFont,
      'Segoe UI',
      Roboto,
      Oxygen,
      Ubuntu,
      Cantarell,
      sans-serif;
  }

  #app {
    @apply min-h-screen;
  }

  /* 交互热区优化 */
  @media (max-height: 800px) {
    .thumb-zone {
      margin-top: auto;
      padding-bottom: env(safe-area-inset-bottom, 20px);
    }
  }

  /* 安全区域适配工具类 */
  .safe-top {
    padding-top: env(safe-area-inset-top, 0px);
  }

  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom, 0px);
  }

  .safe-left {
    padding-left: env(safe-area-inset-left, 0px);
  }

  .safe-right {
    padding-right: env(safe-area-inset-right, 0px);
  }

  /* 针对固定定位元素的特殊安全区域处理 */
  .navigation-safe {
    padding-bottom: max(env(safe-area-inset-bottom, 0px), 1rem);
  }

  /* 全屏组件适配 */
  .safe-insets {
    padding: env(safe-area-inset-top, 0px) env(safe-area-inset-right, 0px)
      env(safe-area-inset-bottom, 0px) env(safe-area-inset-left, 0px);
  }

  /* 动态底部padding（安全区域 + 导航栏高度） */
  .pb-safe {
    padding-bottom: calc(env(safe-area-inset-bottom, 0px) + 5rem);
  }
}

@layer components {
  .btn-primary {
    @apply bg-primary-500 text-white font-medium py-4 px-8 rounded-full 
           hover:bg-primary-600 active:bg-primary-700 
           transition-all duration-200 
           disabled:opacity-50 disabled:cursor-not-allowed
           focus:outline-none focus:ring-2 focus:ring-primary-300;
  }

  .btn-secondary {
    @apply bg-calm-200 text-calm-700 font-medium py-3 px-6 rounded-full 
           hover:bg-calm-300 active:bg-calm-400 
           transition-all duration-200
           focus:outline-none focus:ring-2 focus:ring-calm-300;
  }

  .card {
    @apply bg-white rounded-2xl shadow-lg p-6;
  }

  .intervention-skip-btn {
    @apply text-calm-500 hover:text-calm-700 
           transition-all duration-200
           font-medium py-2.5 px-5
           border border-calm-300 hover:border-calm-400
           rounded-full
           bg-white/80 hover:bg-white
           shadow-sm hover:shadow
           focus:outline-none focus:ring-2 focus:ring-calm-300
           active:scale-95;
  }

  .breathe-circle {
    animation: breathe-scale 8s ease-in-out infinite;
  }

  @keyframes breathe-scale {
    0%,
    100% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.6);
    }
  }
}
